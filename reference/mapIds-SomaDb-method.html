<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='mapIds will retrieve SomaScan annotations (as a named vector) based on
the parameters provided by the keys, columns, and keytype arguments.
The default keytype is "PROBEID", e.g. the SomaLogic SeqId; this value
will be used to tie all annotations back to a SomaScan-specific identifier.'><title>The mapIds method for SomaDb objects — mapIds,SomaDb-method • SomaScan.db</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.8/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.8/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The mapIds method for SomaDb objects — mapIds,SomaDb-method"><meta property="og:description" content='mapIds will retrieve SomaScan annotations (as a named vector) based on
the parameters provided by the keys, columns, and keytype arguments.
The default keytype is "PROBEID", e.g. the SomaLogic SeqId; this value
will be used to tie all annotations back to a SomaScan-specific identifier.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">SomaScan.db</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.99.8</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/SomaScan-db.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/SomaScan-db.html">Introduction to SomaScan.db</a>
    <a class="dropdown-item" href="../articles/example_adat_workflow.html">Example ADAT Workflow Using SomaScan.db</a>
    <a class="dropdown-item" href="../articles/advanced_usage_examples.html">Advanced Exploration of the SomaScan Menu</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/SomaLogic/SomaScan.db/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>The <code>mapIds</code> method for <code>SomaDb</code> objects</h1>
      <small class="dont-index">Source: <a href="https://github.com/SomaLogic/SomaScan.db/blob/HEAD/R/allMethods.R" class="external-link"><code>R/allMethods.R</code></a></small>
      <div class="d-none name"><code>mapIds-SomaDb-method.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>mapIds</code> will retrieve SomaScan annotations (as a named vector) based on
the parameters provided by the <code>keys</code>, <code>columns</code>, and <code>keytype</code> arguments.
The default keytype is "PROBEID", e.g. the SomaLogic <code>SeqId</code>; this value
will be used to tie all annotations back to a SomaScan-specific identifier.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for SomaDb</span></span>
<span><span class="fu">mapIds</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">keys</span>,</span>
<span>  <span class="va">column</span>,</span>
<span>  <span class="va">keytype</span>,</span>
<span>  menu <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  match <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  multiVals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"filter"</span>, <span class="st">"asNA"</span>, <span class="st">"first"</span>, <span class="st">"list"</span>, <span class="st">"CharacterList"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>the <code>AnnotationDb</code> object. But in practice this will mean an 
    object derived from an <code>AnnotationDb</code> object such as a <code>OrgDb</code> or 
    <code>ChipDb</code> object.</p></dd>


<dt>keys</dt>
<dd><p>the keys to select records for from the database.  All possible 
    keys are returned by using the <code>keys</code> method.</p></dd>


<dt>column</dt>
<dd><p>the column to search on (for <code>mapIds</code>).  Different from 
    <code>columns</code> in that it can only have a single element for the value</p></dd>


<dt>keytype</dt>
<dd><p>the keytype that matches the keys used.  For the
    <code>select</code> methods, this is used to indicate the kind of ID being used
    with the keys argument. For the <code>keys</code> method this is used to
    indicate which kind of keys are desired from <code>keys</code></p></dd>


<dt>menu</dt>
<dd><p>a character string identifying a SomaScan menu
version (optional). This will filter the keys to the specified menu
and only return data associated with analytes present in that menu.
By default, all annotations from all analytes are available.
Options include either <code>"5k"</code> or <code>"7k"</code>, as well as the version numbers
for those menus, <code>"v4.0"</code> or <code>"v4.1"</code> (respectively).</p></dd>


<dt>match</dt>
<dd><p>a logical (TRUE/FALSE). Must be used with the "SYMBOL",
"ALIAS", or "GENENAME" keytypes only. If true, the character string
provided for <code>keys</code> will be used as a search term. The string will be
used to match symbols that also start with that string (ex. a key of
"CASP1" will return annotations for both the CASP10 &amp; CASP14 genes).</p></dd>


<dt>...</dt>
<dd><p>Arguments passed on to <code><a href="https://rdrr.io/pkg/AnnotationDbi/man/AnnotationDb-class.html" class="external-link">AnnotationDbi::mapIds</a></code></p><dl><dt><code></code></dt>
<dd></dd>

  
</dl></dd>


<dt>multiVals</dt>
<dd><p>What should <code>mapIds</code> do when there are multiple values         
  that could be returned?  Options include:</p><dl><dt>first:</dt>
<dd><p>This value means that when there are multiple matches only the 1st thing that comes back will be returned. This is the default behavior</p></dd>

      <dt>list:</dt>
<dd><p>This will just returns a list object to the end user</p></dd>

      <dt>filter:</dt>
<dd><p>This will remove all elements that contain multiple matches and will therefore return a shorter vector than what came in whenever some of the keys match more than one value</p></dd>

      <dt>asNA:</dt>
<dd><p>This will return an NA value whenever there are multiple matches</p></dd>

      <dt>CharacterList:</dt>
<dd><p>This just returns a SimpleCharacterList object</p></dd>

      <dt>FUN:</dt>
<dd><p>You can also supply a function to the <code>multiVals</code> argument for custom behaviors.  The function must take a single argument and return a single value.  This function will be applied to all the elements and will serve a 'rule' that for which thing to keep when there is more than one element.  So for example this example function will always grab the last element in each result: <code> last &lt;- function(x){x[[length(x)]]} </code></p></dd>

    
</dl><p></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A named character vector containing the retrieved annotations.
Missing values will be returned as <code>NA</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>mapIds</code> is similar to <code>select</code> in that it can be used to retrieve
annotation information from the database. However, users should be aware
that if they call <code>mapIds</code> and request columns that have multiple matches
for the specified keys (ex. GO or other pathway-related terms), <code>mapIds</code>
will return a named character vector with (by default) <em>only one</em> result
for each possible match. This result in some results being truncated. Make
sure to specify the appropriate <code>multiVals</code> parameter for each query.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Amanda Hiser</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Retrieve a set of example keys</span></span></span>
<span class="r-in"><span><span class="va">keys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="keys-SomaDb-method.html">keys</a></span><span class="op">(</span><span class="va">SomaScan.db</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">keys</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "10000-28" "10001-7"  "10003-15" "10006-25" "10008-43" "10010-10"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Only 1 result is returned by default; missing values are returned as `NA`</span></span></span>
<span class="r-in"><span><span class="fu">mapIds</span><span class="op">(</span><span class="va">SomaScan.db</span>, keys <span class="op">=</span> <span class="va">keys</span>, column <span class="op">=</span> <span class="st">"UNIPROT"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'select()' returned 1:many mapping between keys and columns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     10000-28      10001-7     10003-15     10006-25     10008-43 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "P43320"     "L7RRS6"     "P51814" "A0A024R1A7"           NA </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     10010-10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "A0A024R1X5" </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Specify `multiVals` to return all results as a list</span></span></span>
<span class="r-in"><span><span class="fu">mapIds</span><span class="op">(</span><span class="va">SomaScan.db</span>, keys <span class="op">=</span> <span class="va">keys</span>, column <span class="op">=</span> <span class="st">"UNIPROT"</span>, multiVals <span class="op">=</span> <span class="st">"list"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'select()' returned 1:many mapping between keys and columns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`10000-28`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "P43320" "R4UMM2"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`10001-7`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "L7RRS6"     "P04049"     "A0A0S2Z4L5"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`10003-15`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "P51814"     "A0A024R1C4"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`10006-25`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "A0A024R1A7" "P19419"     "Q86SR6"    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`10008-43`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`10010-10`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "A0A024R1X5" "Q14457"     "W0FFG4"     "B4DQ36"     "E7EV84"    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>SomaScan.db was developed by the Bioinformatics Dept. at <a href="http://www.somalogic.com" class="external-link">SomaLogic Operating Co., Inc.</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer></body></html>

